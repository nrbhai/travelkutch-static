(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},7233,e=>{"use strict";let a=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},56909,e=>{"use strict";let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},16019,e=>{"use strict";let a=(0,e.i(75254).default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash",()=>a],16019)},18575,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(18566),s=e.i(7233),d=e.i(16019),l=e.i(56909),i=e.i(71689),o=e.i(22016);function n(){let e=(0,t.useRouter)(),[n,g]=(0,r.useState)(!1),[c,x]=(0,r.useState)({title:"",slug:"",shortDescription:"",image:"",location:"",distanceFromBhuj:"",significance:"",bestTimeToVisit:"",howToReach:"",parentDestination:"Bhuj",mapUrl:"",facts:[""],sections:[{heading:"Overview",content:"",color:"bg-white",border:""}],gallery:[{src:"",caption:""}]}),h=async a=>{a.preventDefault(),g(!0);try{(await fetch("/api/admin/place",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok?(alert("Place created successfully! Remember to commit your changes."),e.push("/admin"),e.refresh()):alert("Failed to create place")}catch(e){console.error(e),alert("Error submitting form")}finally{g(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsx)(o.default,{href:"/admin",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:(0,a.jsx)(i.ArrowLeft,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Add New Place"})]}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),(0,a.jsx)("input",{required:!0,type:"text",value:c.title,onChange:e=>{let a=e.target.value,r=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"");x(e=>({...e,title:a,slug:r}))},className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white",placeholder:"e.g. Vande Mataram Memorial"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Slug"}),(0,a.jsx)("input",{required:!0,type:"text",value:c.slug,onChange:e=>x(a=>({...a,slug:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-600 dark:text-gray-200"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Main Image"}),(0,a.jsx)("input",{required:!0,type:"text",value:c.image,onChange:e=>x(a=>({...a,image:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Parent Destination"}),(0,a.jsx)("input",{required:!0,type:"text",value:c.parentDestination,onChange:e=>x(a=>({...a,parentDestination:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Short Description"}),(0,a.jsx)("textarea",{required:!0,value:c.shortDescription,onChange:e=>x(a=>({...a,shortDescription:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white h-20"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,a.jsx)("input",{type:"text",value:c.location,onChange:e=>x(a=>({...a,location:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Distance from Bhuj"}),(0,a.jsx)("input",{type:"text",value:c.distanceFromBhuj,onChange:e=>x(a=>({...a,distanceFromBhuj:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Best Time to Visit"}),(0,a.jsx)("input",{type:"text",value:c.bestTimeToVisit,onChange:e=>x(a=>({...a,bestTimeToVisit:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Map URL"}),(0,a.jsx)("input",{type:"text",value:c.mapUrl,onChange:e=>x(a=>({...a,mapUrl:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Significance (Long Description)"}),(0,a.jsx)("textarea",{value:c.significance,onChange:e=>x(a=>({...a,significance:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white h-24"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"How to Reach"}),(0,a.jsx)("textarea",{value:c.howToReach,onChange:e=>x(a=>({...a,howToReach:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white h-20"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Quick Facts (for Template)"}),(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>({...e,facts:[...e.facts,""]})),className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"+ Add Fact"})]}),(0,a.jsx)("div",{className:"space-y-3",children:c.facts.map((e,r)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>{let a=[...c.facts];a[r]=e.target.value,x(e=>({...e,facts:a}))},className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white",placeholder:"Fact description"}),(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>({...e,facts:e.facts.filter((e,a)=>a!==r)})),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:(0,a.jsx)(d.Trash,{className:"w-4 h-4"})})]},r))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Content Sections"}),(0,a.jsxs)("button",{type:"button",onClick:()=>x(e=>({...e,sections:[...e.sections,{heading:"",content:"",color:"bg-indigo-50",border:"border-l-4 border-indigo-600"}]})),className:"px-4 py-2 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 rounded-lg text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(s.Plus,{className:"w-4 h-4"})," Add Section"]})]}),c.sections.map((e,r)=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 relative",children:[(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>({...e,sections:e.sections.filter((e,a)=>a!==r)})),className:"absolute top-4 right-4 p-2 text-red-500 hover:bg-red-50 rounded-lg",children:(0,a.jsx)(d.Trash,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Heading"}),(0,a.jsx)("input",{type:"text",value:e.heading,onChange:e=>{let a=[...c.sections];a[r].heading=e.target.value,x(e=>({...e,sections:a}))},className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content"}),(0,a.jsx)("textarea",{rows:4,value:e.content,onChange:e=>{let a=[...c.sections];a[r].content=e.target.value,x(e=>({...e,sections:a}))},className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white"})]})]})]},r))]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Gallery Images"}),(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>({...e,gallery:[...e.gallery,{src:"",caption:""}]})),className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"+ Add Image"})]}),(0,a.jsx)("div",{className:"space-y-4",children:c.gallery.map((e,r)=>(0,a.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("input",{type:"text",value:e.src,onChange:e=>{let a=[...c.gallery];a[r].src=e.target.value,x(e=>({...e,gallery:a}))},className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white",placeholder:"Image Path"}),(0,a.jsx)("input",{type:"text",value:e.caption,onChange:e=>{let a=[...c.gallery];a[r].caption=e.target.value,x(e=>({...e,gallery:a}))},className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white",placeholder:"Caption"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>({...e,gallery:e.gallery.filter((e,a)=>a!==r)})),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg mt-1",children:(0,a.jsx)(d.Trash,{className:"w-4 h-4"})})]},r))})]}),(0,a.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors shadow-lg shadow-indigo-500/30 disabled:opacity-50",children:[(0,a.jsx)(l.Save,{className:"w-5 h-5"}),n?"Creating...":"Create Place"]})})]})]})}e.s(["default",()=>n])}]);